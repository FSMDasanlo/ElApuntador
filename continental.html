<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>El Apuntador - Continental</title>
 
  <link rel="stylesheet" href="continental.css"> 
  <script src="continental.js" defer></script>
  <script src="voz-navegador.js" defer></script>

  <script defer>
    document.addEventListener("DOMContentLoaded", () => {
      const btnAyuda = document.getElementById("btn-ayuda");
      btnAyuda.addEventListener("click", () => {
        window.open('docs/reglamentocontinental.pdf', '_blank');
      });
    });
  </script>
</head>
<body class="juego">
<div class="header-juego">
  <h1 id="nombre-juego">
    CONTINENTAL
    <button id="btn-ayuda" title="Ver reglamento">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
        <circle cx="12" cy="12" r="10" fill="none"/>
        <text x="12" y="16" text-anchor="middle" font-size="14" font-family="Arial" font-weight="bold">i</text>
      </svg>
    </button>
  </h1>
</div>

<div class="botones-superiores">
  <button onclick="location.href='juegos.html'">Volver a juegos</button>
  <button onclick="location.href='gestion_jugadores.html'">Gesti贸n de nombres</button>
  <button onclick="limpiarPuntuaciones()">Limpiar puntuaci贸n</button>
  <div class="grupo-voz">
    <button id="btn-voz"> Iniciar voz</button>
    <button id="btn-voz-ayuda" title="Ver comandos de voz" class="btn-help" style="background-color: #f1c40f;">
      i
    </button>
  </div>
  <button id="btn-detener-voz" style="display:none; background-color: #e74c3c;"> Detener voz</button>
</div>

<hr class="separador">

<div class="contenedor-principal"> 
  
  <main class="marcador">
    <div class="tabla">
      <table id="tabla-puntos">
        <thead>
          <tr>
            <th>Jugador</th>
            <th>2 Tr铆os</th>
            <th>1 Tr铆o 1 Esc.</th>
            <th>2 Esc.</th>
            <th>3 Tr铆os</th>
            <th>2 Tr铆os 1 Esc.</th>
            <th>4 Tr铆os</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          </tbody>
      </table>
    </div>
  </main>
</div>

<!-- Modal para la ayuda de voz -->
<div id="modal-voz-ayuda" class="modal">
  <div class="modal-contenido">
    <span class="cerrar-voz">&times;</span>
    <h2>Comandos de Voz</h2>
    <p>Pulsa el bot贸n <strong>" Iniciar voz"</strong> para iniciar la escucha. La aplicaci贸n rellenar谩 la tabla a medida que dictes las puntuaciones.</p>
    
    <h4>A帽adir Puntuaci贸n:</h4>
    <p>Di el nombre del jugador seguido de los puntos. Ejemplos:</p>
    <ul>
      <li><em>"Jes煤s veinte"</em></li>
      <li><em>"Ana cero"</em></li>
    </ul>

    <h4>Comandos Generales:</h4>
    <ul>
      <li><strong>"Reiniciar"</strong> o <strong>"Borrar todo"</strong>: Limpia todas las puntuaciones de la tabla.</li>
      <li><strong>"Apaga micro"</strong>: Detiene la escucha de voz (equivale a pulsar el bot贸n " Detener voz").</li>
      <li><strong>"Deshacer"</strong> o <strong>"Corrige"</strong>: Borra la 煤ltima puntuaci贸n introducida.</li>
    </ul>
  </div>
</div>

<script>
  // L贸gica para el modal de ayuda de voz
  const modalVoz = document.getElementById("modal-voz-ayuda");
  const btnVozAyuda = document.getElementById("btn-voz-ayuda");
  const cerrarVoz = document.querySelector(".cerrar-voz");

  if (btnVozAyuda) {
    btnVozAyuda.addEventListener("click", () => { modalVoz.style.display = "block"; });
    cerrarVoz.addEventListener("click", () => { modalVoz.style.display = "none"; });
    window.addEventListener("click", (e) => { if (e.target === modalVoz) { modalVoz.style.display = "none"; } });
  }
</script>
</body>
</html>