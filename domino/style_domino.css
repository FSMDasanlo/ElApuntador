/*
 * style_domino.css
 * Estilos específicos para el juego "Dominó", basados en style_avaricioso.css.
 */

/* ======================================================= */
/* ===== LAYOUT GENERAL Y CENTRADO ======================= */
/* ======================================================= */

body.juego {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #f0f4f8;
  min-height: 100vh;
  margin: 0;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ¡CORRECCIÓN! Esta es la regla para el contenedor de la cabecera */
.cabecera-juego {
  width: 100%;
  max-width: 500px; /* ¡REVERTIDO! Volvemos al tamaño más pequeño */
  padding: 20px;
  margin-bottom: 15px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  background-image: url('../assets/domino.jpg'); /* Ruta de la imagen de fondo del Dominó */
  background-size: cover;
  background-position: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ======================================================= */
/* ===== HEADER Y BOTONES ================================ */
/* ======================================================= */

/* Header del juego */
.header-juego {
  text-align: center !important;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  flex-direction: column;
  margin-top: 0; /* Eliminamos el margen superior, ya lo gestiona el contenedor padre */
}

.header-juego h1 { /* Consolidado de estilos para el H1 */
  font-size: 2rem;
  font-weight: bold;
  margin: 5px 0;
  text-align: center;
  color: white;
  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
  display: flex; /* Para alinear el texto y el botón */
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.header-juego p {
  font-size: 1rem;
  color: white;
  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
  margin: 0.2rem 0 0.8rem 0;
}

.header-juego .titulo { /* Contenedor del h1 y p */
  margin-bottom: 1rem; /* Espacio entre el título y los botones */
}

/* Botones superiores */
/* Estilos para el contenedor de los botones superiores */
.botones-superiores { 
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px; /* Reducimos un poco el espacio con el título */
}

/* Estilos para los botones de acción */
.btn-accion, #btn-voz { /* Estos estilos se aplican a todos los botones de acción */
  padding: 8px 15px;
  font-size: 0.9em;  
  border: none;
  background: #4a90e2;
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s, transform 0.15s;
}

.btn-accion:hover, #btn-voz:hover {
  background: #357ab8;
  transform: translateY(-2px);
}

/* ¡REVERTIDO! Estilos para la sección de opciones de juego */
.opciones-juego { /* ¡NUEVO! Estilos para que todo quepa en una línea */
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px; /* Espacio entre los elementos */
  margin-bottom: 1rem;
  padding: 0.5rem;
  width: 100%;
  max-width: 500px; /* Mismo ancho que la cabecera */
}

.opciones-juego label {
  font-weight: 500;
  color: #555;
  white-space: nowrap; /* Evita que el texto de la etiqueta se rompa */
}

.opciones-juego .btn-opcion {
  padding: 6px 12px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
}

.opciones-juego input[type="number"] {
  width: 40px; /* Ancho fijo para el input de puntos */
  padding: 6px 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.opciones-juego .btn-opcion.active {
  background-color: #4a90e2;
  color: white;
  border-color: #4a90e2;
}

/* Separador */
.separador {
  margin: 15px auto;
  width: 90%;
  border: none;
  height: 1px;
  background-color: #ccc;
}

/* El resto de estilos de botones se mantienen */
/* Botón de detener voz */
#btn-detener-voz {
  margin-top: 0.5rem;
}

/* ======================================================= */
/* ===== TABLA Y RANKING ================================= */
/* ======================================================= */

main.marcador {
  /* ¡SOLUCIÓN! Hacemos que este sea el contenedor de referencia para el botón */
  position: relative;
  width: 100%;
  max-width: 550px; /* Un poco más de espacio para que quepa el botón al lado */
  display: flex; /* Para centrar la tabla dentro */
  justify-content: center;
}

.tabla {
  width: 100%;
  overflow-x: auto;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  padding: 1rem;
  position: relative; /* ¡SOLUCIÓN! Para que el botón '+' se posicione correctamente */
}

#tabla-puntos {
  border-collapse: collapse;
  table-layout: fixed;
  font-size: 0.95rem;
  margin: 0 auto;
}

#tabla-puntos th, #tabla-puntos td {
  border: 1px solid #e0e0e0;
  padding: 0.2rem 0.3rem; /* ¡SOLUCIÓN! Reducimos la altura de las filas */
  text-align: center;
  width: 80px;
}

#tabla-puntos th {
  background: #4a90e2;
  color: white;
  font-weight: 600;
  transition: background-color 0.3s, color 0.3s;
}

/* Fila de totales y nombres */
#fila-totales th { background-color: #357ab8; }
#fila-nombres th { background-color: #6b93c9; }

/* Resaltar máximo y mínimo en totales */
#fila-totales th[maximo] { background-color: #50c878; }
#fila-totales th[minimo] { background-color: #f5a623; }

#tabla-puntos td[contenteditable="true"] {
  background: #f9f9f9;
  cursor: text;
  transition: background 0.2s;
}

#tabla-puntos td[contenteditable="true"]:focus {
  outline: 2px solid #4a90e2;
  background: #ffffff;
}

/* ¡NUEVO! Estilos para la nueva fila de ranking */
#fila-ranking th {
  background-color: #357ab8; /* Color base neutro (azul oscuro) */
  color: white;
  font-size: 0.9rem;
  font-weight: bold;
  text-align: center;
}

/* Colores para el podio */
#fila-ranking th.rank-1 { background-color: #28a745; } /* Verde */
#fila-ranking th.rank-2 { background-color: #ff9800; } /* Naranja */
#fila-ranking th.rank-3 { background-color: #dc3545; } /* Rojo */

.ranking {
  margin-top: 1.5rem;
  text-align: center;
  font-size: 1rem;
  width: 100%;
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
}

.ranking h3 { margin-bottom:0.5rem; font-size:1.2rem; color:#4a90e2; }
.ranking ol { list-style-position: inside; padding-left: 0; }
.ranking li { margin-bottom: 0.3rem; padding: 0.3rem 0.5rem; border-radius: 6px; font-weight: 500; color: white; }
.ranking li:nth-child(1) { background: #50c878; }
.ranking li:nth-child(2) { background: #f5d142; }
.ranking li:nth-child(3) { background: #ff7f50; }

/* ¡CORREGIDO! Estilos para los botones de ayuda (reglamento y voz) */
.btn-help {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  color: white;
  font-weight: bold;
  font-size: 1.2rem;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  transition: transform 0.2s, background-color 0.2s;
  margin-left: 10px; /* Asegura espacio con el título */
  background-color: #4a90e2; /* ¡SOLUCIÓN! Añadido el fondo azul que faltaba */
}

.btn-help:hover {
  transform: scale(1.1);
  background-color: #357ab8; /* ¡SOLUCIÓN! Oscurecemos al pasar el ratón */
}

.btn-help svg {
  width: 20px;
  height: 20px;
}

.modal-contenido ul {
  text-align: left;
}

.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
.modal-contenido { background-color: #fff; margin: 10% auto; padding: 1.5rem; border-radius: 12px; width: 90%; max-width: 600px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
.modal-contenido h2 { color: #4a90e2; margin-bottom: 1rem; }
.cerrar, .cerrar-voz { color: #aaa; float: right; font-size: 1.5rem; font-weight: bold; cursor: pointer; }
.cerrar:hover, .cerrar-voz:hover { color: #000; }
.grupo-voz { display: inline-flex; align-items: center; gap: 0.5rem; }

/* ======================================================= */
/* ===== RESPONSIVE ====================================== */
/* ======================================================= */

@media (max-width: 700px) { /* Media query para pantallas pequeñas */
  .botones-superiores { flex-direction: column; align-items: center; }
  .header-juego h1 { font-size: 1.6rem; }
  .tabla { padding: 0.5rem; }
}

/* ¡NUEVO! Estilos para el botón de añadir fila */
#btn-add-row {
  position: absolute; /* Se posiciona relativo a main.marcador */
  top: 0; /* ¡SOLUCIÓN! Lo sube a la altura de la cabecera */
  right: 0; /* ¡SOLUCIÓN! Lo pega a la derecha del contenedor */
  width: 35px;
  height: 35px;
  border-radius: 50%;
  border: none;
  background-color: #28a745; /* Verde */
  color: white;
  font-size: 1.8rem;
  font-weight: bold;
  line-height: 35px;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  transition: transform 0.2s, background-color 0.2s;
}

#btn-add-row:hover {
  background-color: #218838;
  transform: translateY(-50%) scale(1.1);
}